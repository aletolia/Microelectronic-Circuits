# Microelectronic-Circuits

## CHAPTER 10  Frequency Response
章节概要

1.耦合和旁路电容如何导致分立电路放大器的增益在低频时下降，以及如何获得频率fL的估计值，在该频率fL处，增益比其在中频处的值低3 dB。

2.MOSFET和BJT中存在的内部电容效应以及如何通过在混合电路中添加电容来修正这些电路的hybrid-pi模型以及T-model。

3.CS和CE放大器增益的高频限制，以及增益衰减和3db频率fH的上限主要由漏极和栅极（集电极和基极）之间的小电容决定。

4.分析复杂度不同的放大器电路的高频响应的有力方法。

5.第8章研究的共源共栅放大器如何设计成比CS和CE放大器更宽的带宽。

6.源和发射极跟随器的高频性能。

7.差分放大器的高频性能。

8.用于获得宽带放大的电路配置。

简介

我们在第五章到第九章中对晶体管放大器的研究假设它们的增益是恒定的，与输入信号的频率无关。这就意味着它们的带宽是无限的，当然这并不符合真实情况。为了说明这一点，我们在图10.1中给出了三极管分立放大电路的增益幅度与输入信号频率的关系示意图。虽然我们观察到该电路确实有一个很宽的频率范围，并且在这个范围内增益几乎保持不变。这是特定放大器的有效工作频率范围。到目前为止，我们一直假设我们的放大器工作在这个波段，该波段称为中频波段或中频。放大器的设计使其中频与所需放大信号的频谱一致。因为如果不是这样，放大器会使输入信号的频谱失真，输入信号的不同分量会被不同的量放大。

![image-20210513110800288](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513110800288.png)

图10.1表明，在较低的频率，放大器增益的幅度下降。电路中的耦合电容和旁路电容在该频段内的阻抗迅速升高。回想一下，我们此前假设它们的阻抗很小，并且足以视为短路。这种假设虽然在中频是正确的，但是当输入信号的频率降低时，其容抗迅速变大（基于容抗的表达式），导致其不再可以被视为短路，如同我们在10.1节所要看到的，这会导致放大器的总电压增益降低。

在第10.1节分立放大电路的低频响应分析中，我们将注意力放在频率fL的确定上，它定义了中频的下限。通常而言，fL被定义为增益大小比电路处在中频的值低3分贝的频率。要注意的是，集成电路放大器不使用耦合和旁路电容器，因此其中频的下限在零频率（dc）处，如图10.2所示。

![image-20210513111412812](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513111412812.png)

图10.1和10.2表明放大器的增益在高频端下降。这是由于BJT的内部电容效应（扩散电容和势垒电容）。我们将在第10.2节中研究这些效应，并用我们将添加到此前我们所使用的hybrid-pi model和T-model中。第10.3节将使用高频设备模型分析CS和CE放大器（分立和集成）的高频响应。我们将特别关注频率fH的确定，它定义了中频带的上限。它被定义为增益大小比电路位于中频时的增益值低3 dB的频率。因此，放大器带宽由fL和fH定义（对于IC放大器为0和fH）

放大器的增益带宽积（gain-bandwidth product）定义如下
$$
GB=|A_M|BW
$$
其中BW指带宽的的长度
$$
BW=f_H-f_L(分立电路)                         BW=f_H(集成电路)
$$
本章的其余部分将关注各种复杂度不同的放大器配置的频率响应分析。我们特别感兴趣的是通过添加特定的电路组件（例如源极和射级衰减电阻（emitter-degenerate resistance）或通过完全改变电路配置来扩展放大器带宽（即，增加fH）的方法。

### 10.1 Low-Frequency Response of Discrete-Circuit Common-Source and Common-Emitter Amplifiers
在本节中，我们考虑耦合电容器和旁路电容器对分立电路共射极（CE）放大器的增益的影响。 如前所述，它们的效果仅在低频处（即，在中频带以下）表现出来。

#### 10.1.2 The Method of Short-Circuit Time Constants

在某些电路中，如不久前讨论的共射放大器的电路中，电容器存在相互作用，很难确定fL频率。然而，幸运的是，有一种简单的方法可以获得fL的估计值，而不需要确定极点的频率。尽管该方法是基于其中一个极点占主导地位的假设，虽然该假设的前提并非精确，但其仍然为fL给出了一个良好的近似。方法如下

1.假设输入信号为0

2.每次考虑一个电容器，并且在考虑这个电容器时将其他电容器的电容大小设为无穷大（换言之，将其他电容器短路）

3.对于每一个电容器$C_i$，找到从该电容器看入的电阻$R_i$，这可以通过在电容处设置一个测试电源$V_x$得到，$R_i$被定义为$V_i/I_x$

4.通过下面的式子估算3dB频率$f_L$
$$
f_L\approx\sum_{i=1}^n\frac 1{C_iR_I} 
$$
其中n是电容器的数量

除了简单之外，该方法还有一个非常重要的作用：方程式指出了每个电容器对fL值的相对贡献。具体来说，与特定电容器相关的时间常数值越低，该电容器对fL的贡献就越大。如下文所示，这一观察结果具有重要的设计意义。

短路时间常数法的应用将在下一节中说明，其中它用于确定CE放大器的fL。

#### 10.1.3 The CE Amplifier

![image-20210513115023646](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513115023646.png)

图10.9（a）显示了使用classic偏置的分立电路共射放大器，以及耦合电容器$C_{C1}$和$C_{C2}$以及旁路电容器$C_E$。我们希望能计算出该电路的fL。并且同时，我们需要确定$C_{C1}$、$C_E$和$C_{C2}$的值，以确保fL的大小符合实际应用要求，同时最小化所需的总电容值。

为了分析CE放大器的低频增益，我们使用图10.9（b）所示的等效电路。这种等效电路是通过短接$V_{CC}$，用T-model代替BJT，而忽略$r_o$得到的。忽略$r_o$的原因在于晶体管的输出电阻对分立电路放大器的增益影响很小，并且由于它的存在会导致分析相当复杂。从图10.9（b）中的电路中，我们观察到BJT基极输入电流有限导致$C_{C1}$和$C_{C2}$相互作用。也就是说，与CS放大器的情况不同，这里由$C_{C1}$和$C_{C2}$引起的两极中的每一个都将以一种复杂的方式依赖于这两个电容值，这妨碍了对设计的理解。

![image-20210513120750743](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513120750743.png)

因此在这里我们不应当尝试去确定极点频率，而是采用短路时间常数法来估算$f_L$的值

##### Applying the Method of Short-Circuit Time Constants

这里插入一段题外话：如何判断从某个电容看入的电阻？

我们以这里的三个电容为例

$C_{C1}$:首先我们记在BJT基极上的偏置电阻的并联等效电阻为$R_B$,换言之，                        $R_B=(R_{B1}||R_{B2})$

此外在$R_B$的左侧有一个信号源的内电阻$R_{sig}$（要注意的是$R_B$并非是三极管的内电阻），接着向右看，有一个三极管，该三极管的输入电阻是$r_\pi$,并且由于$R_B$接地，$R_B$和BJT是并联关系，因此，从$C_{C1}$看入的电阻大小是
$$
(R_B||R_\pi)+R_{sig}
$$
换言之，$C_{C1}$的时间常数为
$$
τ_1=[(R_B||R_\pi)+R_{sig}]C_{C1}
$$
![image-20210513123136273](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513123136273.png)

$C_{E}$:此时我们视 $C_{C1}$短路，因此$R_B$和$R_{sig}$并联，并且由于发射极电路上的电流和基极电路上的电流有差异，因此在基极上的电阻需要乘以系数$\frac 1{\beta+1}$。总体上看，从$C_{E}$出发的电路分成了两条支路，因此这两条支路上电阻的并联等效电阻即为从$C_{E}$看入的电阻。

故$C_E$的时间常数为
$$
\tau_E=C_E[R_E(r_e+\frac{R_B||R_{sig}}{\beta+1})]
$$
![image-20210513124016266](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513124016266.png)

(note:由于$r_e$上方是一个受控电流源，因此它不会被算入电阻计算中)

对于$C_{C2}$这个分析过程是类似的，此处略去不表

![image-20210513124254752](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513124254752.png)

因此我们可以根据短路时间常数来估计其3-dB频率$f_L$
$$
f_L=\frac{\omega_L}{2\pi}=\frac1{2\pi}[\frac1{\tau_1}+\frac1{\tau_E}+\frac1{\tau_2}]
$$
当在这个表达式中代入数值时，很快就会发现三个电容器中哪个对fL的贡献最大。显然，这个贡献最大的电容器是时间常数最小的电容器。在射级放大电路中，通常是$C_E$，这是因为相关的电阻RCE通常很小。知道哪种电容器有可能主导fL具有重要的设计意义，如下所示。

###### Selecting Values for CC1, CE, and CC2

我们现在讨论为$C_{C1}$、$C_E$和$C_{C2}$选择适当值的设计问题。设计目标是将较低的3-dB频率fL放置在指定位置，使电路中的总电容值最小。由于如上所述，$C_E$通常是三个电阻中最低的，因此通过选择$C_E$使总电容最小化，从而使其对fL的贡献占主导地位。也就是说，通过参考上式，我们可以选择某个电容值$C_S$，使得$1/(C_ER_E)$，比方说，是80%的$\omega_L=2\pi f_L$，让其他每个电容器贡献10%的ωL。例10.2应该有助于说明这个过程。

##### Example 10.2

我们希望为共射放大器选择一个合适的$C_{c1}$,$C_{C2}$,$C_E$,其中放大器电路参数为$R_B=100k\Omega$,$R_C=8k\Omega$,$R_L=5k\Omega$,$R_{sig}=5k\Omega,R_E=5k\Omega,\beta=100,g_m=40mA/V$,以及$r_\pi=2.5k\Omega$.设计要求为fL=100Hz

首先我们计算三个电容的时间常数

![image-20210513135315776](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513135315776.png)

现在我们为$C_E$选择一个合适的值，使其满足其时间常数的倒数是$\omega_L$的80%

![image-20210513135643165](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513135643165.png)

其他两个电容分别贡献10%

![image-20210513135721790](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210513135721790.png)

### 10.2 Internal Capacitive Effects and the High-Frequency Model of the MOSFET and the BJT

耦合和旁路电容会导致晶体管放大器的增益在低频端下降，而在高频时的增益下降则是由晶体管内部的电容效应引起的。在本节中，我们将简要地考虑这些影响，更重要的是，展示如何修正电路的小信号模型，以考虑这些影响。

##### 10.2.2 The BJT

在我们对BJT物理特性的研究中，我们假设晶体管对输入信号的反应是瞬时性的，因此我们开发的晶体管模型不包括任何会引起时间或频率依赖性的元件（即电容器或电感器）。然而，实际的晶体管表现出电荷存储现象，这会限制它们的运行速度和频率。我们在第三章的pn结研究中已经遇到了这种效应，并且已经知道它们可以用电容来建模。在下面我们研究了发生在BJT中的电荷存储效应，并通过在hybrid—$\pi$ model和T-model中添加电容来考虑它们对整体电路的影响。由此产生的修正BJT模型将能够预测放大器增益对频率的依赖性，以及晶体管开关和逻辑门所表现出的时间延迟

##### The Base-Charging or Diffusion Capacitance $C_{de}$（扩散电容）

当npn BJT处于放大状态时，其基极中储存的非平衡少子(电子)的数量 $Q_n$的数量可以表示为
$$
Q_n=\tau_Fi_c
$$
其中 $\tau_F$ 是一个随时间变化的常数。称为前向基极渡越时间，表示电荷载流子（电子）穿过基极的平均时间。一般来说，$\tau_F$在10 ps到100 ps的范围内。

上式常应用于振幅较大的信号中，而由于 $i_c$的大小与 $v_{be}$成指数关系，因此 $Q_n$的大小与其关系也类似，此外，对于微变信号，我们根据电容的定义式，可以得到
$$
C_{dc}\equiv\frac{dQ_n}{dv_{BE}}=\tau_F\frac{di_C}{dv_{BE}}
$$
而在小信号模型中，集电极电流大小与EBJ电压大小之间的关系，近似为跨导 $g_m$,故
$$
C_{dc}=\tau_Fg_m=\tau_F\frac{I_C}{V_T}
$$

##### The Base–Emitter Junction Capacitance $C_{je}$

$v_{BE}$的变化不仅改变了存储在基极区的电荷，还改变了存储在基极与发射极耗尽层的电荷。这种独特的电荷存储效应由EBJ耗尽层电容$C_{je}$表示。耗尽层电容近似可以以下式表示
$$
C_{je}\simeq2C_{je0}
$$
其中 $C_{je0}$为EBJ电势差为0时的电容大小

##### The Collector–Base Junction Capacitance $C_\mu$

在放大模式下，CBJ反偏，其结电容（或称势垒电容）通常记为 $C_\mu$，其表达式如下
$$
C_\mu=\frac{C_{\mu0}}{(1+\frac{V_{CB}}{V_{0c}})^m}
$$
其中，$C_{\mu0}$是CBJ零偏时的大小；$V_{CB}$ 是CBJ反向偏置电压的大小，$V_{0c}$是CBJ内置电压（通常为0.75 V），m是其分级系数（通常为0.2–0.5）。

##### The High-Frequency Models

图10.14显示了BJT在高频信号下的hybrid— $\pi$模型和T模型，其中包括了电容效应。具体来说，有两个电容：发射极-基极电容$C_π = C_{de}+C_{je}$和集电极-基极电容$C_μ$ 通常，$C_π$ 在几微法拉到几十微法之间；而 $C_\mu$的大小则在数皮法之间。注意，我们还在模型中添加了一个电阻$r_x$

![image-20210516135259569](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516135259569.png)

这个电阻是由于BJT本身材料硅晶体所带来的（该电阻由基极区域中的硅材质导致）。一般来说，$r_x$的大小是几十欧姆，并且其大小以一种相当复杂的方式取决于电流水平。通常而言 $r_x<<r_\pi$ , 因此在低频时其影响可以忽略不计。然而，在高频相应中，该电阻的作用就会变得明显，如同我们接下来将要看到的一样。

##### The BJT Unity-Gain Frequency

晶体管数据表通常不会给出 $C_\pi$的值，更不要说地说β (或称 $h_{fe}$）与频率的关系。为了确定$C_π$ 和$C_μ$的大小, 我们将导出$h_{fe}$的表达式，即CE短路电流增益，以作为hybrid- $\pi$模型中的一个参数。为此，考虑图10.15所示的电路，其中集电极和发射极之间短接。根据C处的节点方程，可算出短路集电极电流Ic的大小为

![image-20210516140511650](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516140511650.png)

（注：其中 $sC_\mu$是电容阻抗的倒数）

![image-20210516141212273](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516141212273.png)

因此 $V_\pi$大小为

![image-20210516141449788](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516141449788.png)

从而

![image-20210516141519838](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516141519838.png)

当 $\omega{C_\mu}<<g_m$时，有

![image-20210516141707338](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516141707338.png)

故

![image-20210516141747478](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516141747478.png)

其3-dB频率为 $\omega=\omega_\beta$,其中

![image-20210516141958048](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516141958048.png)

其波特图为

![image-20210516142051358](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516142051358.png)

在 $\omega=\omega_T$时，增益大小下降到1，此时的频率称作单位增益频率，大约是

![image-20210516142332486](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516142332486.png)

即

![image-20210516142410501](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516142410501.png)

或者

![image-20210516142426980](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516142426980.png)

单位增益带宽$f_T$，也称为跃迁频率，通常会在数据表上指出。在某些情况下，$f_T$是$I_C$和$V_{CE}$的函数。要了解fT如何随$I_C$变化，请回忆一下，$g_m$与 $I_C$的大小成正比，不过在我们上面的表达式中，$C_\pi$只有一部分（扩散电容 $C_{de}$的那部分）与 $I_c$是成正比的。这可以解释 $f_T$在低电流下会变小的原因，如图10.17所示。然而，图10.17所示的高电流下$f_T$的减少不能用这个论点来解释；相反，这是由于同样的现象，导致$β_0$在大电流下减小(其工作点位置发生变化导致其直流增益变小）（第6.4.2节）。
在$f_T$几乎恒定的区域，$C_π$ 的大小主要取决于扩散电容的大小，并且远大于$C_μ$. 也就是说
$$
C_\pi+C\mu\simeq{C_{de}=\tau_Fg_m}
$$
并且基于同样的原因
$$
f_T\simeq\frac{1}{2\pi\tau_F}
$$
![image-20210516151704283](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516151704283.png)

通常，$f_T$的范围是100兆赫到几十兆赫。$f_T$的值套用于此前的公式中，以确定$C_π + C_μ$. 电容$C_μ$的大小通常通过直接测量在反偏电压 $V_{CB}$下基极和集电极之间的电容大小来确定。

从图10.14（a）的高频模型中可以观察到的一个重要现象是，当频率大小介于5到10 $f_\beta$时 , 人们可以忽略电阻$r_π$ . 可以看出，此时$r_x$成为高频输入阻抗中唯一的电阻部分。因此，rx在确定晶体管电路在高频下的频率响应方面起着重要的作用。因此，只有通过高频测量才能准确确定$r_x$的大小。

在离开本节之前，我们应该提到，图10.14中的高频模型相当准确地描述了晶体管在约0.2$f_T$的频率下的运行情况。而对于更高的频率响应，我们需要在模型中添加更多的细节才行

总结

![image-20210516153916804](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516153916804.png)

### 10.3 High-Frequency Response of the CS and CE Amplifiers
在了解了BJT高频响应的等效电路模型后，我们现在讨论CS和CE放大器的高频性能问题。我们的目标是确定限制这些重要放大器在高频信号下性能的机制。同样，我们需要找到一种简单的方法来估计频率$f_H$，在该频率$f_H$处，增益比其在中频频率$| A_M |$的值低3db。

本文的分析同样适用于分立电路、电容耦合放大器和集成电路放大器。前者的频率响应如图10.1所示，后者的频率响应如图10.2所示。在我们感兴趣的频率（高频段），所有耦合和旁路电容器都表现为完美短路，两种类型的放大器都有相同的高频等效电路。

##### 10.3.2 The Common-Emitter Amplifier

图10.19（a）显示了CE放大器的高频等效电路。它是通过用图10.14（a）的高频等效电路模型替换如图10.9（a）所示的电路中的BJT，并像往常一样移除所有直流电源而获得的。注意图10.19（a）中的电路是通用的，适用于分立和集成电路放大器。因此，它包括$R_B$，通常出现在分立放大电路中。$R_C$也可以是电流源负载的无源电阻或输出电阻，对于$R_L$也是如此。

![image-20210516154349227](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516154349227.png)

通过使用戴维南定理，我们可以得到上述电路的等效电路

![image-20210516154830165](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516154830165.png)



上述的戴维南等效电路可以用于计算中频带电压收益 $|A_M|$,正如我们之前所做的一样，我们将电路中的两个电容值设为0，有

![image-20210516155357301](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516155357301.png)

接下来我们把注意力放在输入端，并且尝试在输入端处简化电路以获得一个简单的RC低通电路，为此，我们需要将桥接电容器$C_\mu$转换成从节点B'到地面的等效电容，首先我们看向输出端

在输出端，由节点方程可以看到负载电流的大小为
$$
g_mV_\pi-I_\mu
$$
此时，放大电路处于中频段的分界线处，我们可以合理的认为此时电容效应还不很明显，也就是说，此时我们可以认为$I_\mu$的大小要远远小于$g_mV_\pi$的大小，换言之 ，输出电压可以近似表示为
$$
V_o\simeq-g_mV_\pi{R_L}
$$
此时我们把$C_\mu$等效替代成阻抗，可以得到
$$
I_\mu=sC_\mu(V_{\pi}-V_{o})=sC_\mu{V_\pi}(1+g_mR_L)
$$
接着我们用一个等效电容来代替$C_\mu$,	我们只要保证在等效替代前后流入电容的电流大小相等即可，换言之
$$
C_{eq}=C_\mu(1+g_mR_L)
$$
因此我们最终将电路图简化为如下所示

![image-20210516162134641](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516162134641.png)

这样做的好处是可以将左侧单独拿出来考虑而不用考虑右侧元件对输入端的影响，接着我们对左侧电路即可进行电路分析，电容器并联时，等效电容为并联的每个电容之和
$$
C_{in}=C_\pi+C_{eq}
$$
计算时间常数的过程略去不表，可以算出传递函数为

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516160346099.png" alt="image-20210516160346099" style="zoom:150%;" />

因此3-dB频率 $f_H$由下式给出

![image-20210516160450950](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516160450950.png)

并且

![image-20210516160610909](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516160610909.png)

注意$C_{in}$是$C_\pi$和密勒电容$C_\mu(1+g_mR^`_L)$ 的和。从$C_{in}$看到的电阻$R_{sig}^、$可以从上图的电路中很容易的找到，如下所示：将$V_{sig}$减至零，从端口B '和E向左看。你会看到$r_π$ 与$r_x$并联，$r_x$与$R_B||R_{sig}$ 串联。这种寻找“被电容看到”的电阻的方法是非常有用的，而且免去了繁琐的工作！


![image-20210516162241082](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516162241082.png)

##### Example 10.4

找出以下偏置配置CE放大器的 $f_H$大小

![image-20210516162441980](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516162441980.png)



首先计算hybrid- $\pi$的模型参数，有

![image-20210516162612815](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516162612815.png)

中频带增益为

![image-20210516162654562](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516162654562.png)

其中

![image-20210516162722629](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516162722629.png)

因此

![image-20210516162857426](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516162857426.png)

故

![image-20210516162924446](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516162924446.png)

转换为分贝，有

![image-20210516163041131](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516163041131.png)

为了找到 $f_H$我们首先找到 $C_{in}$

![image-20210516163136241](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516163136241.png)

以及等效源电阻

![image-20210516163307790](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516163307790.png)

从而

![image-20210516163812066](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516163812066.png)

##### 10.3.3 Miller’s Theorem（密勒定理）

在分析共源和共发射极放大器的高频响应时，我们采用了一种替代桥接电容（$C_\mu$)用于等效输入电容。这个非常有用和有效的技术是基于一个我们现在将要介绍的定理，即密勒定理。

考虑图10.20（a）中的情况。作为未显示的更大电路的一部分，我们隔离了两个电路节点，分别标记为1和2，它们之间连接阻抗Z。节点1和节点2也连接到电路的其他部分，如从两个节点发出的虚线所示。此外，假设以某种方式已经确定节点2处的电压与节点1处的电压相关，并且成正比

![image-20210516164558175](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516164558175.png)

即
$$
V_2=KV_1
$$
在通常的情况下，K是一个增益因子，它可以是正的，也可以是负的，其大小通常大于1。不过这并非密勒定理的前提假设。

密勒定理指出阻抗Z可以由两个阻抗代替：$Z_1$连接在节点1和地之间，$Z_2$连接在节点2和地之间，其中
$$
Z_1=Z/(1-K)
$$
以及
$$
Z_2=Z/(1-\frac1K)
$$
以获得下图的等效电路图

![image-20210516165009350](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516165009350.png)

密勒定理的证明如下：在图10.20（a）的原始电路中，节点1“感觉到阻抗Z的存在”的唯一方式是通过Z从节点1获得的电流I。因此，为了使等效电路中的电流保持不变，我们必须选择Z1的值，使其产生相等的电流

![image-20210516165125366](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516165125366.png)

从而我们获得了 $Z_1$的大小，同理，我们也可以借此计算出 $Z_2$的大小

（注：尽管没有明说这一点），但上述密勒等效电路仅在电路其余部分保持不变的情况下有效；否则V2与V1的比值可能会改变。因此，密勒等效电路不能直接用来确定放大器的输出电阻。这是因为在确定输出电阻时，隐含地假设源信号被减少到零，并且测试信号源（电压或电流）被施加到输出端子显然是电路中的一个重大变化，使得密勒等效电路不再有效。）

##### Example 10.5

下图显示了一个放大倍数为-100的反相放大器，其中有一个阻抗Z从输出端作为反馈回路连接到输入端，在第一种情况下，Z是一个100M的电阻；第二种情况下Z是一个1pf大小的电容。请计算这两种情况下的密勒等效电路，并计算其电压收益

![image-20210516170849717](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516170849717.png)

在本例中，显然K=100,故对于第一种情况，有

![image-20210516170632879](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516170632879.png)

因此其电压增益为

![image-20210516171047200](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516171047200.png)

![image-20210516170710832](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516170710832.png)

第二种情况下，我们先计算电容等效的容抗，从而有

![image-20210516170824503](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516170824503.png)

同理可以得到

![image-20210516171117926](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516171117926.png)

这是该放大器的传递函数，由此可算出其3dB频率为

![image-20210516171208715](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516171208715.png)

从本例中我们可以看到，对于当K小于零时，我们对桥接电阻或反馈电阻进行密勒等效替代时，会导致输入端的等效阻抗变小（1-K)倍，若该输入阻抗由电容形成，则等效电容的值会变为（1-K）倍，这被称作密勒效应

### 10.4 Useful Tools for the Analysis of the High-Frequency Response of Amplifiers

在第10.3节中，我们介绍了一种利用密勒效应的近似方法，用于分析CS和CE放大器的高频响应。 该方法可以对$f_H$进行合理准确的估算，同等重要的是，可以对限制高频运行的机制进行深入了解。 然而，不幸的是，这种方法不能应对存在负载电容$C_L$的情况。 同样，该方法不容易扩展到更复杂的放大器电路。 因此，我们将要简要介绍一些计算高频响应的工具，这些工具在分析例如共源共栅放大器等更复杂的电路时将非常有用。 我们稍稍后退几步，更普遍地考虑放大器的高频传递函数。

##### 10.4.1 The High-Frequency Gain Function

考虑到晶体管的内部电容，放大器的增益可以表示为复变函数
$$
A(s)=A_MF_H(s)
$$
其中$A_M$是中频带增益（对于集成放大电路而言，这个也是其低频时的放大增益）可以通过分析放大器等效电路并且忽略晶体管内部电容的影响来确定$A_M$的值(即视其为)。 而当我们将放大器的内部电容纳入考虑范围时，我们可以得到$F_H(s)$，该数值可以用其极点和零频率点（通常是实数）表示，如下所示

![image-20210516185709560](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210516185709560.png)

其中$ω_{p1}$，$ω_{p2}$......$ω_{pn}$是指n个极点的频率，$ω_{Z2}$，······$ω_{Zn}$是表示n个零频率点的频率。在高频响应中，零频率点和极点的频率根据定义大于中频率，我们从等式（10.71）中可以看出，当s接近中间带频率时，$F_h(s)$大小将逐渐接近1，也使得放大电路的增益大小逐渐接近$A_M$

##### 10.4.2 Determining the 3-dB Frequency $f_H$

放大器设计人员通常对靠近中频带的高频部分特别感兴趣。 这是因为设计人员需要估计（或者根据需要修改）3 dB上限频率$f_H$（或$ω_H$； $f_H =ω_H/2π$）的值。不过需要指出的时，在许多情况下，零频率点要么是无穷大的，要么是对于确定$ω_H$无关紧要的高频。 如果另外一个极点（例如$ω_{P1}$）的频率比其他任何一个极点的频率低得多，则该极点将对放大器$ω_H$的值产生最大的影响。 换句话说，该极点将主导放大器的高频响应，并且称该放大器具有一个主极点。 在这种情况下，函数$F_H$可以近似为

![image-20210517185357271](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517185357271.png)

也就是一阶单时间常数网络的传递函数

这是我们在第10.3节分析的共射极放大器的情况。根据经验法则，如果频率最低的极点与最近的极点或零频率点至少有四倍频的距离，则存在主极点。如果主极不存在，则3-dB频率$ω_H$可由$| F_H（jω)|$的图像确定。或采用如下的近似公式，为简单起见，仅考虑在高频带中具有两个极点和两个零频率点的电路的情况

![image-20210517190133876](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517190133876.png)

将 $s=j\omega$代入并平方，有

![image-20210517190351433](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517190351433.png)

根据定义，在3-dB频率( $\omega=\omega_H$) 下，放大倍数会下降一半，也就是说

![image-20210517190611463](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517190611463.png)

由于 $\omega_H$的大小通常要小于极点和零频率点的大小，因此我们可以略去带有 $\omega_H^4$的几项，解方程，有

![image-20210517190839164](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517190839164.png)

并且可以延伸到任意极点与零点数

![image-20210517190922972](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517190922972.png)

##### 10.4.3 The Method of Open-Circuit Time Constants（开路时间常数法）

如果可以很容易地确定放大器传递函数的极点和零点，那么我们就可以使用上述方法来确定$f_H$。然而，在许多情况下，计算传递函数并非易事。在这种情况下，可以使用开路时间常数的方法获得$f_H$的近似值，如同我们将在下面介绍的。
该方法与我们在第10.1节中用于估算$f_L$的短路时间常数方法类似。
考虑函数$F_H(s)$（等式10.71），它决定放大器的高频响应。将其分子分母展开化简，有

![image-20210517191612005](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517191612005.png)

其中系数a、b分别对应零点和极点的频率大小，特别的，系数$b_1$由下式给出。

![image-20210517191745123](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517191745123.png)

也就是说，$b_1$的值是n个时间常数之和，换言之，假如要得到$b_1$的值，我们可以在电路的高频等效电路中依次计算其时间常数并求和，如同我们在短路时间常数法中所做的一样，我们每考虑一个电容，就将所有其他电容设置为开路，并令信号源电压为0，来计算其时间常数，有

![image-20210517192454136](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517192454136.png)

最后有

![image-20210517192703928](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517192703928.png)

需要指出的是，大多数情况下电路系统都不存在主极点，但该方法仍然可以得到一个良好的近似结果

### 10.5 High-Frequency Response of the Common-Gate and Cascode Amplifiers

尽管共射放大电路可以提供较大的电压增益，但其在高频段处的增益下降十分明显，其主要原因在于其由于密勒效应而变大的$C_{in}$电容，因此，假如我们要获得受高频信号输入影响较小的放大电路，应该采用密勒效应小或不受密勒效应的放大电路，即共基共射电路

##### 10.5.3 High-Frequency Response of the Bipolar Cascode Amplifier

此前我们曾提到过，共射共基电路能同时提供高的电压增益（$A^2$）和大的输入电阻，其等效电路如下图所示

![image-20210518113456711](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518113456711.png)

观察到我们在电路图中又增加了三个电容$C_L、C_{cs1}、C_{cs2}$,其中，$C_L$指共射共基电路电流源负载的电容大小以及后续放大电路（如果有）中的等效电容大小；$C_{cs1}、C_{cs2}$则指集电极与衬底之间的电容大小

确定其3-dB频率最方便的办法是开路时间常数法，我么将从电路的底部到顶部逐层分析

1.首先将下方电路（共射部分）转换为等效小信号模型，在这里我们采用T-model，等效电路图略去不表

2.计算$R_{sig}'$的值，有
$$
R_{sig}'=r_{\pi1}||(r_{x1}+R_{sig})
$$
3.计算由$C_{\pi1}$看入的电阻，有
$$
R_{\pi1}=R_{sig}'
$$
4.计算在$C_1$节点的等效电阻，该等效电阻为$Q_1$的输出电阻与$Q_2$的输入电阻的并联等效值，有
$$
R_{c1}=r_{o1}||[r_{e2}(\frac{r_{o2+R_L}}{r_{o2+R_L/(\beta_2+1)}})]
$$
5.计算从$C_{\mu1}$看入的电阻，这是一个较为复杂的电路，直接“看”是难以得出等效电阻的，因此我们在$C_{\mu1}$处放置一个测试电源，用比值法来定义其电阻，如下图所示

![image-20210518131805837](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518131805837.png)

注意到
$$
V_{be}=-I_xR_{sig}'
$$
从而得到
$$
R_{\mu1}=R_{sig}'(1+g_{m1}R_{c1})+R_{c1}
$$
6.计算$C_2$节点的电阻，即整个共基共射电路的输出电阻
$$
R_o\simeq\beta_2r_{o2}
$$
7.
$$
\tau_H=C_{\pi_1}R_{\pi1}+C_{\mu1}R_{\mu1}+(C_{cs1}+C_{\pi2})R_{c1}+(C_L+C_{cs2}+C_{\mu2})(R_O||R_L)
$$
从而$f_H\simeq\frac{1}{2\pi\tau_H}$

如果我们展开 $\tau_H$,可以发现 $\tau_H$由三部分组成
$$
\tau_H=R_{sig}(C_{\pi1}+C_{\mu1}(1+g_{m1}R_{c1}))+R_{c1}(C_{\mu1}+C_{cs1}+C_{\pi2})+(R_L||R_O)(C_L+C_{cs2}+C_{\mu2})
$$
这三部分分别对应了共基共射电路的输入端，中间段与输出端,可以看到在输入端（共射放大电路部分）我们依然能看到因为密勒效应而变大的电容 $C_{\mu1}$

当信号源的内阻很大时，显而易见，第一部分将在式子中占据主导地位（特别是当密勒效应的系数很大时）；同时，当负载电阻很大时，会使得 $R_{in2}$变大从而导致 $R_{c1}$变大， 这要求共射电路提供更大的放大倍数。因此为了在高信号源内阻的条件下获得大带宽，我们需要尽量减小负载电阻的大小以减少密勒效应的系数大小

当信号源的内阻小时，第一项内的密勒效应显得无足轻重，此时我们可以利用大的负载电阻来使共基共射电路的放大倍数最大（$A_o^2$），在这种情况，式子的第三部分将占据主导地位，更极端一些，假设信号源无内阻并且中间项可以忽略不计，则有

![image-20210518151405339](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518151405339.png)

因此其3-dB频率大小为

![image-20210518151434685](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518151434685.png)

### 10.6 High-Frequency Response of the Source and Emitter Followers

在本节中，我们研究两个重要电路构建模块的高频响应：源极跟随器和射极跟随器。 两者的中频带电压增益均小于但接近于1。 它们的优势在于其高输入电阻和低输出电阻。 因此，它们可用作多级放大器的输出级和电压缓冲器。 不久将看到，这些电压跟随器还具有另一个重要优势，即宽带宽。

## CHAPTER 11 Feedback

### Introduction

大多数物理系统都包含某种形式的反馈。 有趣的是，负反馈理论是由电子工程师开发的。 在寻找用于跨大西洋电话中继器的具有稳定增益的放大器的设计方法时，西方电气公司的电子工程师Harold Black于1928年发明了反馈放大器。此后，该技术得到了如此广泛的应用，以至于如果没有某种形式的隐式或显式反馈，几乎不可能构成电子电路。 此外，反馈的概念及其相关理论目前也会在工程以外的领域中使用，例如在生物系统的建模中。

反馈有两种类型：正反馈与负反馈，在放大器设计中我们一般采用负反馈来完成一以下目的

1.降低增益灵敏度：也就是说，使增益值对电路元件值的变化不那么敏感，例如温度变化可能引起的变化。

2.减少非线性失真：即使输出与输入成比例（换句话说，使增益恒定且与信号电平大小无关）。

3.减少噪音的影响：也就是说，尽量减少电路元件本身或外部干扰产生的不需要的电信号对输出的影响。

4.控制输入和输出电阻：即通过选择适当的反馈结构来提高或降低输入和输出电阻。

5.提高放大器的带宽

上述所有理想特性都是以降低增益为代价获得的。结果表明，称为反馈量的增益折减因子是使电路失敏、增加电压放大器的输入电阻、扩展带宽等的因子。简言之，负反馈的基本思想是用增益来换取其他期望的特性。本章致力于研究负反馈放大器们的分析、设计和特性。

在某些条件下，放大器中的负反馈可以变为正反馈，并且其幅度足以引起振荡。实际上，在第18章我们将研究正反馈在振荡器和双稳态电路设计中的应用。然而，在本章中，我们对稳定放大器的设计感兴趣。因此，我们将研究负反馈放大器的稳定性问题及其振荡的可能性。

然而，这并不意味着正反馈总是导致不稳定。事实上，正反馈在许多非再生应用中非常有用，例如第17章研究的有源滤波器的设计。

在我们开始研究负反馈之前，我们希望提醒读者，我们已经在许多应用中遇到了负反馈。几乎所有的运算放大器电路（第二章）都采用负反馈。负反馈的另一个流行应用是使用发射极电阻RE来稳定双极晶体管的偏置点，并增加BJT放大器的输入电阻、带宽和线性度。另外，源极跟随器和发射极跟随器都采用了大量的负反馈。

接下来的问题是，是否有必要对负反馈进行正式研究。如本章结尾所述，反馈的形式化研究为电子电路的分析和设计提供了宝贵的工具。此外，从反馈的角度思考所获得的洞察力也会非常有益

### 11.1 The General Feedback Structure

##### 11.1.1 Signal-Flow Diagram

图11.1给出了反馈放大器的基本结构。 图11.1是信号流程图，不显示电压和电流，其中x可以表示电压或电流信号。 一般而言，放大器是单向的,其开环增益记为$A$；因此它的输出$x_o$与输入$x_i$的关系为

$$
x_o=Ax_i
$$
![image-20210518153144682](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518153144682.png)

而反馈网络则使输出信号相反方向提供了一个反馈信号 $x_f$其大小由一个反馈系数（因子）决定
$$
x_f=\beta{x_o}
$$
我们假定将反馈网络连接到放大器输出端不会改变增益$A$或$x_o$的值； 也就是说，反馈网络所产生的信号不会加载到放大器输出上。而且，反馈网络同样是单向的。

从源信号$x_s$中减去反馈信号$x_f$，所得到的信号$x_i$是该基本放大器的输入，注意到正是因为这样的原因导致其得名为“负反馈”。

##### 11.1.2 The Closed-Loop Gain

负反馈放大器的增益称之为闭环增益或反馈增益，记为 $A_f$，定义为
$$
A_o\equiv\frac{x_o}{x_s}
$$
代入上一节中的式子，有
$$
A_f=\frac{A}{1+A\beta}
$$
其中 $A\beta$称为环路增益（loop gain），对负反馈结构而言，其环路增益必然为正，从而可以降低输入放大器的信号振幅。在大部分电路中，$Aβ$的大小往往都远大于一，因此上式也可以写作

![image-20210518154844264](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518154844264.png)

这指出了一个很有趣的结果：当放大器的环路增益很大时，反馈放大器的增益大小几乎完全由反馈电路决定，而反馈电路中一般不会包含有源器件，因此反馈电路的增益大小可以做到精确控制。换句话说，总增益几乎不依赖于基本放大器的增益$A$，这是一个理想的特性，因为增益$A$通常是许多制造和应用参数的函数，其中一些参数可能具有宽容差。

我们已经在第2章中看到了运算放大器电路中所有这些效应的生动说明，其中闭环增益几乎完全由反馈元件决定。 通常，我们将（1 /β）视为$A_f$的理想值。

我们可以将公式（11.1）至（11.3）组合在一起，以获得反馈信号$x_f$ 的表达式：

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518155312719.png" alt="image-20210518155312719" style="zoom: 25%;" />

从中我们可以证明在$A_β$>>1时，xi变得非常小。 跟踪运算放大器的两个输入端子。 我们观察到负反馈会减少出现在基本放大器输入端子上的信号，具体地说，降低了（1 $+A_β$）倍。 稍后将看到，正是这种输入信号的减少导致反馈放大器的线性度增加。

##### 11.1.3 The Loop Gain

从上面的讨论中我们可以看到，环路增益$A_β$是反馈放大器的一个非常重要的参数，实际上,它是最重要的特性参数：

$1.A_β$的符号决定了反馈的极性； 环路增益$A_β$必须为正，反馈才能为负。

$2.A_β$的大小决定了闭环增益$A_f$与理想值$1$ /β的接近程度。

$3.A_β$的大小决定了反馈系数（1 $+A_β$）的大小，因此，正如我们将在下一部分中看到的那样，它决定了由负反馈引起的放大器性能的各种改进。

4.正如我们将在后面的部分中看到的那样，$A_β$不可避免地随频率变化的问题会导致$A_β$变为负值，进而使反馈放大器变得不稳定。 因此，稳定反馈放大器的设计可能涉及适当修改其环路增益Aβ的频率特性（第11.10节）。

环路增益的重要性促使我们思考如何才能得到环路增益的数值，上面的流程图告诉我们环路增益的值可以有以下几步得出

1.设输入信号 $x_s=0$

2.在适当的地方打断反馈回路并保证A和β值不会发生改变

3.在被打断的反馈回路节点处施加一个测试电压 $x_t$,然后测量放大器的输出电压 $x_r$，如下图

![image-20210518160723914](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518160723914.png)

有
$$
x_r=--A\beta{x_t}
$$
从而
$$
A\beta=-\frac{x_r}{x_t}
$$
我们观察到，由于$A_β$为正，因此返回的信号$x_r$将与测试信号$x_t$异相，从而验证反馈确实为负。 实际上，此方法用于定性确定反馈的极性。 在后面的部分中，我们将有更多关于环路增益的内容。

##### Example 11.1

图11.3（a）所示的同相运算放大器配置直接实现了图11.1的反馈环路。

![image-20210518161515612](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518161515612.png)



求：1.假设运放的输入电阻为无穷大而输出电阻为0，请计算 $\beta$的表达式

为了能够更清楚地看到图11.3（a）中的电路与图11.1中的框图之间的直接对应关系，我们用其等效电路模型代替了运算放大器，如图11.3（b）所示。  。

由于运算放大器被假定具有无限的输入电阻和零输出电阻，因此其模型是增益大小为$A$的理想电压控制电压源。从图11.3（b）可以看出，反馈网络由分压器组成 （R1，R2）并直接连接到输出，并将信号$V_f$馈送到运算放大器的反相输入端子。 在这一点上重要的是要注意，运算放大器的零输出电阻会导致输出电压为$AV_i$，而与R1和R2的值无关。 这就是我们在图11.1的框图中假定反馈网络不给基本放大器加载的陈述的意思。 现在我们可以轻松地从中确定反馈因子β
$$
\beta\equiv\frac{V_f}{V_o}=\frac{R_1}{R_1+R_2}
$$
接下来，让我们研究如何从输入端的$V_s$中减去$V_f$。 通过运算放大器的差分作用可以有效地进行减法运算。 就其本质而言，差分输入放大器利用其两个输入端子之间的信号差。 我们还应观察到，由于假定运算放大器的输入电阻是无限的，所以没有电流流入运算放大器的负输入端，从而反馈网络不会在输入侧给放大器加载负载。

2.假设A（$A=10^4$)减少20%，则反馈回路的放大倍数 $A_f(A_{f0}=10)$会下降多少？

该情况下$A>>A_f$从而有

![image-20210518154844264](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518154844264.png)

故
$$
\beta\simeq\frac1{A_f}=0.1
$$
从而
$$
\frac1{\beta}=1+\frac{R_2}{R_1}=A_f=10\rightarrow\frac{R_2}{R_1}=9
$$
进行迭代，可以得到
$$
A_f=\frac{A}{1+A\beta}\rightarrow\beta=0.0999
$$
假设$A$减小20%，则
$$
A_f=\frac{0.8*10^4}{1+0.8*10^4*0.0999}=9.9975
$$
变化了不到0.025%

##### 11.1.4 Summary

![image-20210518164624187](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518164624187.png)

### 11.2 Some Properties of Negative Feedback

##### 11.2.1 Gain Desensitivity

例11.1演示了负反馈对闭环增益降低灵敏度的影响，在该示例中，我们看到基本放大器的增益降低了20％，环路增益仅降低了0.025％。这种降低灵敏度的特性可以通过以下方法建立分析

假设 $\beta$是一个常数，对
$$
A_f=\frac{A}{1+A\beta}
$$
两侧微分，有
$$
dA_f=\frac{dA}{(1+A\beta)^2}
$$
两式相除，有

![image-20210518185618285](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518185618285.png)

这表明$A_f$的变化率（由于某些电路参数的变化）要远远小于A的变化率

##### 11.2.2 Bandwidth Extension

考虑一个放大器，其高频响应以单极点为特征。 它在中高频时的增益可以表示为

![image-20210518190113160](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518190113160.png)

在该放大器周围施加具有与频率无关的系数β的负反馈会产生由下式给出的闭环增益$A_f(s)$

![image-20210518190214790](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518190214790.png)

代入，有

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518190248364.png" alt="image-20210518190248364" style="zoom:67%;" />

从而反馈回路会有一个中频带增益 $A_M/(1+A_M\beta)$，并且其频率上限 $\omega_{Hf}$为

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518190607807.png" alt="image-20210518190607807" style="zoom:67%;" />

换言之，其频率上限会随着反馈系数的变大而变大。类似的，假如一个放大器的开环收益函数中只有一个低频极点，则

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518190849513.png" alt="image-20210518190849513" style="zoom:67%;" />

请注意，从中我们可以看出，在放大器带宽增加时，中频带增益将以相同的倍数减小，从而将增益带宽积保持在恒定值。 图11.4中的波特图进一步说明了这一点。

最后，请注意，负反馈在扩展放大器带宽方面的作用不足为奇：负反馈可最大程度地减小增益幅度的变化，包括其随频率的变化 

![image-20210518191735071](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518191735071.png)

##### 11.2.3 Interference Reduction

负反馈可用于减少放大器中的干扰，或更准确地说，可用于增加信号与干扰的比率。 但是，正如我们现在要解释的那样，只有在某些条件下，这种减少干扰的过程才可能实现。 考虑图11.5所示的情况。 图11.5（a）显示了一个具有增益$A_1$，输入信号$V_s$和干扰$V_n$的放大器。 假定由于某种原因该放大器遭受干扰，并且假定干扰可以被引入到放大器的输入端。 该放大器的信噪比为
$$
S/I=V_x/V_n
$$
![image-20210518192252380](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518192252380.png)

接着考虑下图的电路，在这里我们假设我们可以在这个电路中建立另一个放大器电路$A_2$，并且假设该放大器电路不会受到噪声影响

![image-20210518192514287](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518192514287.png)

最后我们在总体电路的两侧施加反馈回路，通过叠加原理，可以得到

![image-20210518193038701](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518193038701.png)

从而整个电路的信噪比为
$$
\frac{S}{I}=\frac{V_s}{V_n}A_2
$$
比之原来的值高出$A_2$倍

我们再次强调，只有当操作者可以使某个放大电路系统几乎完全不受噪声干扰时，才可以使用负反馈来提高信噪比，不过在大多数情况下这种情况都是有可能的。最好的例子是在音频放大器的输出功率放大器级。 这样的阶段通常会遭受电源嗡嗡声的问题。 这是由于该级从电源汲取大电流并且难以简单的地提供足够的电源滤波而出现的问题。 即要求功率输出级提供大的功率增益，但提供很少或没有的电压增益。 因此，我们可以在功率输出级之前放置一个小信号放大器，该放大器提供大的电压增益，然后施加大量的负反馈，从而将电压增益恢复到其原始值。 由于小信号放大器可以由另一个笨重（因此调节性能更好）的电源供电，因此不会出现嗡嗡声问题。

##### 11.2.4 Reduction in Nonlinear Distortion

图11.6中的曲线（a）显示了放大器的传输特性vO与vI的关系。 如图所示，该特性是分段线性的，电压增益从1000变为100，然后变为0。这种非线性传递特性将导致该放大器产生大量的非线性失真。

通过施加负反馈，可以将放大器的传递特性进行相当大的线性化。 这样做并不令人惊讶，因为我们已经看到，负反馈降低了整个闭环增益对基本放大器的开环增益的依赖性。

![image-20210518193724231](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518193724231.png)

为了说明这一点，让我们将β= 0.01的负反馈应用于放大器，其开环电压传递特性如图11.6所示。 闭环放大器的最终传输特性，$v_0$与$v_S$的关系，在图11.6中显示为曲线（b）。 这里最陡段的斜率由下式给出

![image-20210518194107308](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518194107308.png)

然后是下一段斜率

![image-20210518194138722](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210518194138722.png)

可以看到斜率的数量级变化已大大减少。 当然，付出的代价是电压增益的降低。 因此，如果必须恢复总增益，则应添加前置放大器。 该前置放大器不应出现严重的非线性失真问题，因为它将处理较小的信号。

最后，应该注意的是，负反馈对放大器的饱和状态完全没有任何作用，因为在饱和状态下，增益很小（几乎为零），因此反馈量几乎为1。

### 11.3 The Feedback Voltage Amplifier

根据要放大的参数（电压或电流）和所需的输出形式（电压或电流），放大器可以分为四类。 这些类别在第1章中进行了讨论。在本节中，我们研究最常见的放大器类型：电压放大器。我们从通过确定将负反馈施加到电压放大器的适当配置来进行研究。 然后，我们提出了一种用于分析反馈电压放大器的简单方法。 该方法利用了环路增益$A_β$

##### 11.3.1 The Series–Shunt Feedback Topology

电压放大器旨在放大输入电压信号并提供输出电压信号。 电压放大器本质上是一个电压控制的电压源。 输入电阻要求较高，输出电阻要求较低。 由于信号源本质上是电压源，因此可以用戴维南等效电路来表示。 由于关注的输出量是输出电压，因此反馈网络应该对输出电压进行采样，就像电压表测量电压一样。同样，由于电压源的戴维南等效表示，反馈信号$x_f$应当可以用一个与电压源串联的电压源来表示。

从上面的讨论中可以看出，一般而言，最适合电压放大器的反馈网络形式如下

![image-20210519115403937](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519115403937.png)

在该反馈结构中，输入端采用串联结构，使反馈电压能够很好的作用于输入电压上而输出结构采用并联结构（或类似的结构）使反馈电压不会对下一级造成影响。如同我们将要展示的那样，这种结构不仅稳定了电压增益 $V_o/V_s$，还产生了更高的输入电阻 $R_{in}$和更低的输出电阻 $R_{out}$

输入电阻增加的原因在于反馈回路使得信号源到达放大器输入端的信号从 $V_s$变小成 $V_i$,而较小的输入信号进一步导致输入电流变小，这使得从 $V_s$看入的电阻变大，在下一部分中我们将会计算反馈放大器输入电阻的公式

输出电阻降低是因为反馈可将$V_o$保持尽可能恒定。 因此，如果从放大器输出汲取的电流变化了$\Delta I_o$，则$V_o$中的变化$\Delta V_o$将小于不存在反馈时的变化$\Delta V_o$。 因此，输出电阻$\Delta V_o$ / $\Delta I_o$将低于开环放大器的值。 在下面的部分中，我们将得出反馈电压放大器的输出电阻的表达式

##### 11.3.2 Examples of Series–Shunt Feedback Amplifiers

串联-并联反馈放大器的三个例子如图11.8所示。 图11.8（a）中的放大器是熟悉的同相运算放大器配置。 由分压器（$R_1$，$R_2$）组成的反馈网络产生一个电压$V_f$，该电压被施加到运算放大器的负输入端。 通过利用运算放大器差分输入的差分作用，可将$V_f$减去$V_s$。 为了使反馈为负，$V_f$必须与$V_s$具有相同的极性，从而在基本放大器的输入端产生较小的信号。 随着输入电压增大，我们发现反馈电压也会随之线性增大，从而达到负反馈的效果

![image-20210519121615598](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519121615598.png)

如图11.8（b）所示，第二个反馈电压放大器级联使用两个MOSFET放大器级。 输出电压$V_o$通过由分压器（$R_1$，$R_2$）组成的反馈网络采样，反馈信号$V_f$被馈送到$Q_1$的源极端子。 通过将$V_s$施加到$Q_1$的栅极并将$V_f$施加到其源极来实现信号大小的减小，结果是该放大器输入端的信号$V_i$ = $V_{gs}$ = $V_s$ -$V_f$。 

串联-分流反馈的第三个例子如图11.8（c）所示，它使用了CG晶体管Q，其输出电压$V_o$的一部分$V_f$通过分压器（$R_1$，$R_2$）反馈到栅极。 观察到，CG放大器的输入$V_i$为$V_s$-$V_f$。 但是，像往常一样，我们必须检查反馈的极性：如果$V_s$增加，则$V_d$（即$V_o$）将增加，而$V_f$将相应地增加。 因此，$V_f$和$V_s$的变化趋势相同，从而验证反馈是否为负。

##### 11.3.3 Analysis of the Feedback Voltage Amplifier Utilizing the Loop Gain

在第11.1节中研究的反馈分析方法不能直接应用于实际的反馈电压放大器，例如图11.8中的放大器。 这是因为第11.1节的分析方法是基于以下假设：反馈网络不会影响基本放大器的放大倍数和信号源输入大小。 不幸的是，这种假设在大多数实际的放大器电路中不成立。 如图11.8的电路所示，反馈网络是一个简单的电阻电路，显然会影响到放大电路的特性参数。 例如，在图11.8（b）的电路中，组成反馈网络的电阻$R_2$和$R_1$的值会影响作为基本放大器一部分的共源级$Q_2$的增益（从整体上看，$Q_2$的偏置电路中多出了两个并接的电阻，这使得$Q_2$的工作点位置会受到影响）。 同样，反馈网络电阻$R_1$的值会影响$Q_1$放大器级的增益，该级是基本放大器的一部分。 因此，我们不能轻易地将放大电路与反馈电路分离开来来确定A和β，因此不能使用11.1和11.2节中所描述的的反馈公式。

虽然确定A和β并不容易，但我们依然可以使用11.1.3节中介绍的方法确定其乘积，即环路增益$Aβ$的大小。 另外，我们可以通过识别和隔离反馈网络（例如，图11.8中每个电路中的电阻分压器（R1，R2））轻松获得β值。 然后，我们可以使用Aβ和β的值来确定A和Af。 这种确定环路增益的方法很简单，我们将在本节中使用它来进行反馈电压放大器的分析。 然而，该方法具有局限性，将在后面提到。 下一节将介绍一种更准确，系统的分析反馈电压放大器的方法。

环路增益分析方法包括四个步骤：

1.找出反馈网络，并使用它来确定β的值。

2.定义闭环增益$A_f$的理想值为1 /β。当$Aβ>>1$时，$A_f$的值会十分接近于理想值。$A_f$的理想（或上限）值可用于反馈放大器的初始设计。 它还可以检查下面计算出的$A_f$的实际值。

3.使用第11.1.3节中描述的方法确定环路增益Aβ。 回想一下，在中断循环时，应注意不要更改循环中的条件。 因此，如果我们中断$XX'$处的反馈回路，如图11.9（a）所示，并在$XX'$左侧的端子施加测试电压$V_t$，则$XX'$右侧的端子必须为在施加电压$V_r$的同时也要串入一个阻抗$Z_t$，其大小与节点$XX'$左侧的戴维南等效电阻的阻值相等。、

![image-20210519160724511](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519160724511.png)

从而环路增益为
$$
A\beta=\frac{A}{1+A\beta}
$$
一般来说，我们打断循环的点需要尽可能取在等效阻抗很大或接近无穷大的点处

4.使用Aβ的值与β的值一起确定开环增益A。然后，从下式确定闭环增益Af：
$$
A_f=\frac{A}{1+A\beta}
$$
如下面的例题所示

##### Example 11.2

对于图11.8（b）的串联-并联反馈放大器，忽略MOSFET的$r_o$

（a）给出反馈网络（β电路）和β的表达式。 同时计算闭环增益Af的理想值或上限值的表达式。

（b）求出$R_2 / R_1$之比，使之闭环增益的理想值为10。 如果$R_1$ = 1 k，则$R_2$必须具有什么值？

（c）找到环路增益Aβ的表达式。

（d）如果$g_{m1}$ = $g_{m2}$ = 4 mA / V且$R_{D1}$ = $R_{D2}$ = 10 k，确定Aβ，A和$A_f$的值



解：

（a）反馈网络如下所示

![image-20210519161517038](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519161517038.png)

因此
$$
\beta=\frac{V_f}{V_o}=\frac{R_1}{R_1+R_2}
$$
从而可以得到闭环增益的理想值为
$$
A_f\simeq\frac1{\beta}=1+\frac{R_2}{R_1}
$$
（b）由上题知

![image-20210519161814066](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519161814066.png)

（c）为了计算闭环增益的值，我们首先使信号源电压为0，再在$Q_1$的漏极和$Q_2$的栅极之间寻找一个最适合打断循环的点（我们选择在这条支路上打断循环的原因是$Q_2$的栅极输入电阻为无穷大，因此等效电阻可以直接看作断路）。结果电路如下图所示

![image-20210519162709727](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519162709727.png)

有

![image-20210519163156606](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519163156606.png)

从而

![image-20210519163219985](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519163219985.png)

（d）

![image-20210519163249713](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519163249713.png)

##### Example 11.3

在图11.11（a）的串联-并联反馈放大器中，运算放大器输入电阻为$R_{id}$，开路电压增益$μ$和输出电阻$r_o$。 计算β的表达式，$A_f≡V_o$ / $V_s$的理想值和环路增益Aβ。

![image-20210519163501815](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519163501815.png)

solution

显然其反馈网络为由$R_1$和$R_2$所构成的串联电路，因此

![image-20210519164214544](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519164214544.png)

从而

![image-20210519164233676](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519164233676.png)

为了确定环路增益，我们将$V_s$设置为0，并用其等效电路模型代替运算放大器。结果电路如图11.11（b）所示。 接下来，我们断开环路以施加测试电压$V_t$，同时在断开处终止环路，其阻抗等于断开环路之前的阻抗。 产生的电路如图11.11（c）所示，其中在运算放大器的输入端子处环路已断开，左侧端子连接的电阻等于$R_{id}$。

![image-20210519164410284](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519164410284.png)

![image-20210519164450180](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519164450180.png)

根据分压原理，可以得到

![image-20210519170429586](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210519170429586.png)

##### 11.3.4 A Final Remark

环路增益分析方法虽然简单，但并不完整：它无法使我们找到反馈放大器的输入和输出电阻。 下一节将弥补这一缺点，我们在此提供了一种系统的方法来分析反馈电压放大器

### 11.4 Systematic Analysis of Feedback Voltage Amplifiers

在本节中，我们提供了用于分析反馈电压放大器的系统计算方法。 该过程实质上是拆解给定的反馈电压放大器电路，以获得“ $A$电路”，从中我们可以确定开环增益A和开环放大器的其他参数，例如输入和输出电阻， 和“$β$电路”，从中可以找到反馈因子β的值。从而我们根据这两个电路中计算出来的参数来确定反馈放大器中其他参数的值，比如闭环增益和输出电阻，等等

我们的方法是首先考虑反馈网络不影响基本放大电路参数的理想情况。 然后，我们考虑实际情况，其中反馈网络不仅对基本放大器的特性造成影响，而且还有一个有限的源电阻$R_s$和一个有限的负载电阻$R_L$。

##### 11.4.1 The Ideal Case

如前所述，串联-并联是电压放大器的合适反馈拓扑。串联-并联反馈放大器的理想结构如图11.12（a）所示。
   它由一个单边开环放大器（A电路）和一个理想的电压采样，电压混合反馈网络（β电路）组成。  A电路具有输入电阻Ri，开路电压增益A和输出电阻Ro。





























































































































#### 附录1：极点的概念：

我们以一个普通的单时间常数电路为例

![image-20210517110016082](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517110016082.png)

这是一个典型的低通滤波电路，要计算$V_o$，根据电容C的定义式，我们可以得到
$$
C=\frac{Q}V\rightarrow V=\frac{Q}C\rightarrow \frac{dV}{dt}=\frac1C\frac{dQ}{dt}=\frac1Ci\rightarrow i=C\frac{dV}{dt}
$$
故我们得出了在电路中电流大小$i$与输出电压$V_o$的数量关系，接下来有
$$
V_o+RC\frac{dV_o}{dt}=V_s
$$
解这个微分方程，可以得到
$$
e^t=A(V_o-V_s)^{-RC}(A为常数)
$$
我们现在假设$V_s$是一个阶跃函数（step function），在t=0时会发生阶跃，其解析式为
$$
f(t)=\begin{cases}0(t<0)\\V_s(t\geq0)\end{cases}
$$
由上面的微分方程解可以得出
$$
A_2e^{-\frac{t}{RC}}=V_o-V_s
$$
从而
$$
V_o=V_s+A_2e^{-\frac{t}{RC}}
$$
其中$A_2$可以根据初值条件计算得出，该初始条件是t=0时电容器上积累的电荷量大小，在本例中，t=0时积累的电荷量大小为0，故
$$
Q=0\rightarrow V_o=\frac QC=V_o=V_s+A_2e^{-\frac{t}{RC}}=0\rightarrow A_2=-V_s\rightarrow V_o=V_s(1-e^{-\frac t{RC}})
$$
由此我们定义时间常数 $\tau=RC$,在t= $\tau$时，有
$$
V_o=V_s(1-e^{-1})
$$
我们认为在此时，$V_o$的大小已经接近$V_s$(表示了电路的反应时间)

现我们假设输入信号$V_i(t)$是一正弦波，复平面上其方程用
$$
V_i(t)=V_ie^{j\omega{t}}
$$
表示，由上面的推导可知，输入电压和输出电压之间的响应存在一定的时间差，这意味着输入与输出波形之间会产生相位差，记为 $\theta$

再由
$$
V_o+RC\frac{dV_o}{dt}=V_s
$$
可以得到
$$
V_se^{j\omega{t}}=\tau{j\omega}V_oe^{j{\omega}t}+V_oe^{j{\omega}t}
$$
化简可以得到
$$
V_s=V_o({\tau}j\omega+1)
$$
即
$$
V_o=\frac{V_s}{\tau{j}{\omega}+1}
$$
我们定义 $\omega_0=\frac1{\tau}$(即该电路系统的角频率)，从而有
$$
V_o=\frac{V_s}{1+j(\frac{\omega}{\omega_0})}
$$
在这个式子中我们发现，实常数$V_s$的表达式中出现了虚数单位 $j$，由此我们可得出$V_o$必然是一个复数，这从数学角度上解释了输出电压和输入电压之间存在相位差的原因

将上式代入$V_o（t）$的表达式中，有
$$
V_o（t）=\frac{V_s}{1+j(\frac{\omega}{\omega_0})}e^{j{\omega}t}
$$
现定义传递函数$T(\omega)$
$$
T(\omega)\equiv\frac{V_o}{V_s}=\frac{1}{1+j(\frac{\omega}{\omega_0})}
$$
从而有
$$
V_o(t)=T(\omega)V_i(t)
$$
习惯上我们记$j\omega=s$，则有
$$
T(s)=\frac{K}{1+(\frac{s}{\omega_0})}
$$
其中K指电路系统的直流电压增益，作波特图，有

![image-20210517121147000](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517121147000.png)

此前我们提到过，当 $t=\tau$时，我们认为电路的输出与输入可以看作恰好响应，但当输入信号的频率过高（一个周期的时间过短时）就会导致电路无法及时响应，从而使输出电压变小（来不及变大已经开始变小），这解释了在上面的波特图中频率越高传递函数越小的原因。此外，除了在数值上的变化以外，相位上的变化也可以藉由传递函数得出，相位的变化大小即为传递函数（复变函数）的相角大小，有
$$
T_(\omega)=|T|e^{j\theta}=\frac{K}{1+j(\frac{\omega}{\omega_0})}
$$
分子为常数，故幅角为0，简化为 $e^{j0}$,从而有
$$
e^{j\theta}=\frac{e^{j0}}{e^{jtan^{-1}\frac{\omega}{\omega_0}}}=e^{j(-tan^{-1}\frac{\omega}{\omega_0})}
$$
故
$$
\theta=-tan^{-1}\frac{\omega}{\omega_0}
$$
同样作波特图，可以得到



![image-20210517135020862](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517135020862.png)

可以看到，在频率较低时，相位几乎不会发生改变；频率与电路系统的角频率相等时则出现45度的相位差；而随着频率逐渐升高，相位差则会逐渐向90度移动

在上面的图中，可以看到，当 $\omega=\omega_0$,也就是输入信号的频率等于电路系统的角频率时，反映在波特图上都可以找到一个较为明显的转折点，我们称这些转折点为***极点（pole）***，换言之，当我们面对一个复杂的电路系统时，这个电路系统可能同时包含有高通和低通两个滤波电路，我们要做的就是计算该电路的传递函数，并借此计算出电路的极点大小，以确定电路的带宽和 $f_H$、$f_L$

是否对于每一个电路我们都需要用微分方程求解？答案当然是否定的，事实上，我们可以把电容器看作是一个容抗大小为 $R_c$的电阻来解电路。推导如下
$$
i=C\frac{dV}{dt}
$$
而在交变电路中，电流大小与电压大小都可以用复变函数表示
$$
i=Ie^{j\omega{t}}
$$
以及
$$
V=Ve^{j\omega{t}}
$$
从而我们可以通过电流与电压的比值来定义容抗
$$
R_c=\frac{V}i=\frac{1}{j\omega{C}}
$$
从而在电容两端的分压即为简单的电阻分压，在本例中，我们可以借此计算出传递函数
$$
\frac{V_o(\omega)}{V_s(\omega)}=\frac{\frac{1}{j\omega{C}}}{R+\frac{1}{j\omega{C}}}=\frac{1}{1+j(\frac{\omega}{\omega_0})}
$$
有时一个电路可能有多个极点，例如下面求解一个场效应管电路 $f_L$的例子

![image-20210517145739364](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517145739364.png)

该场效应管电路图及其等效电路图如上所示，我们所要计算的传递函数即是
$$
\frac{V_o}{V_{sig}}
$$
分析电路的过程在此略去不表，我们可以得出
$$
\frac{V_o}{V_{sig}}=\frac{V_g}{V_{sig}}*\frac{I_D}{V_g}*\frac{V_o}{I_D}
$$
换言之，我们的计算会得到三个传递函数，也就会得到三个极点频率

对于第一个极点频率，我们进行简单的分析，有

![image-20210517150322351](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517150322351.png)

也就是说我们可以得到第一幅波特图

![image-20210517150442987](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517150442987.png)

第二项传递函数

![image-20210517150622957](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517150622957.png)

此外，当
$$
s=-\frac{1}{C_sR_s}
$$
该传递函数的值为零，因此我们额外得到了零频率点。但我们从算式中也能看出，由于 $\omega_{p2}$通常远远大于 $\omega_Z$,因此在决定 $\omega_L$时，$\omega_{p2}$的权重要远大于$\omega_Z$

波特图如下

![image-20210517151410864](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517151410864.png)

同理可以得到

![image-20210517151548299](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517151548299.png)

及其波特图

![image-20210517151640673](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517151640673.png)

最后得出传递函数

![image-20210517151725714](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517151725714.png)



以及该传递函数的波特图

![image-20210517151801178](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210517151801178.png)

































